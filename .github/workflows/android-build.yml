name: Build Android Game

on:
push:
branches: [ main, master ]

jobs:
build:
runs-on: ubuntu-latest
name: Build Android APK


steps:
  - name: Checkout repository
    uses: actions/checkout@v4

  - name: Set up JDK 17
    uses: actions/setup-java@v4
    with:
      java-version: "17"
      distribution: "temurin"

  - name: Set up Android SDK
    uses: android-actions/setup-android@v3
    with:
      api-level: 34
      build-tools: 34.0.0

  # If gradlew is inside android folder, add "cd android &&" before commands below.
  - name: Give execute permission to gradlew
    run: chmod +x gradlew

  - name: Build Debug APK
    run: ./gradlew assembleDebug

  - name: Upload APK
    uses: actions/upload-artifact@v4
    with:
      name: game-debug
      path: app/build/outputs/apk/debug/app-debug.apk




